## Event Storming
https://miro.com/app/board/uXjVLxzaRnQ=/

### На основе модели ES я выделила следующие контексты:
- подбор персонала
- матчинг
- расчеты
- биллинг
- сервис заказов
- сервис расходников
- ставки


### Логика по которой сгруппировали команды и события в контексты

1. подбор персонала
Здесь выбираем топ 3% из котов.

2. матчинг

В описании к ТЗ есть следующее: "Благодаря отсеву и матчингу компания планирует выделяться на фоне конкурентов."
То есть, этот сервис является ключевым (core доменом), а такие сервисы компания разрабатывает сама. 

3. расчеты
   По схеме ES можно выделить несколько процессов связанных с расчетами :
* расчет скидки
* расчет стоимости услуг (+ предварительный расчет стоимости услуг)

4. биллинг (расчет скидки, выставление инвойсов, история списаний и начислений)

По схеме ES можно выделить несколько процессов связанных с биллингом, а именно:
* выставление инвойсов
* история платежей

5. сервис заказов

Есть несколько процессов связанных с заказом
* клиент создал заказ
* воркер его обработал (не пришел на заказ, выполнил)
* контроль качества

6. расходники - подбор расходников

* заказ расходников
* выдача расходников
* заказывают и кладут печенье

7. ставки
* распределение банка в зависимости от успешности выполнения заказа


## Модель данных

Лежит рядом в папке data model


## Реализация системы
Запрос от бизнеса:
* низкий ТТМ (Time To Market)
* 10 заказов в день и 100 клиентов
* Для бизнеса критично проверять новые гипотезы по отсеву котов и изменять уже существующие с максимальной скоростью и надёжностью.

Необходимо уточнить требования по времени доступности системы.

На данном этапе кажется, что нам подойдет монолитная структура с разбивкой по модулям-сервисам, т.к. :
* модульная структура монолита уменьшит сложность системы (легче дебажить), над модулями могут работать разные команды
* быстродействие системы выше по сравнению с микросервисами, где играют роль сетевые задержки
* в системе работает мало клиентов, скорее всего редеплой системы не окажет значимого влияния, 
особенно если он будет в утренние или ночные часы - то есть доставку изменений можно организовывать ежедневно
* с точки зрения мониторинга - легче мониторить монолит

Быстрая проверка гипотез - насколько поняла из описания, это про то, что клиент может заносить в систему свои тесты и настраивать их для каждого кота.
Мне кажется, это детали реализации модуля подбора персонала и матчинга

Достаточно 1 монолита (можно сделать два, для отказоусточивости, но придется решать проблемы синхронизации данных между ними)
БД: одна бд с репликацией (мало клиентов, мало заказов, ощущение, что информации будет храниться не много, но стоит уточнить и просчитать нагрузку, как долго мы будем хранить данные)
Есть взаимодействие с внешними системами (золотая шляпа, система ставок) - возможно добавиться асинхронное взаимодействие

Как сервисы будут общаться: внутри системы синхронно и асинхронно(эвенты), + в некоторых местах системы необходим шедулер (счета выставляются раз в месяц и тд)








